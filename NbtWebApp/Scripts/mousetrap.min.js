(function(){function h(n,t,i){if(n.addEventListener){n.addEventListener(t,i,!1);return}n.attachEvent("on"+t,i)}function k(n){return n.type=="keypress"?String.fromCharCode(n.which):i[n.which]?i[n.which]:y[n.which]?y[n.which]:String.fromCharCode(n.which).toLowerCase()}function tt(n,t){return n.sort().join(",")===t.sort().join(",")}function c(n,t){n=n||{};var u=!1,i;for(i in r){if(n[i]&&r[i]>t){u=!0;continue}r[i]=0}u||(o=!1)}function d(n,i,u,f,e){var s,o,c=[],h=u.type;if(!t[n])return[];for(h=="keyup"&&v(n)&&(i=[n]),s=0;s<t[n].length;++s)(o=t[n][s],o.seq&&r[o.seq]!=o.level)||h==o.action&&((h!="keypress"||u.metaKey||u.ctrlKey)&&!tt(i,o.modifiers)||(f&&o.combo==e&&t[n].splice(s,1),c.push(o)));return c}function it(n){var t=[];return n.shiftKey&&t.push("shift"),n.altKey&&t.push("alt"),n.ctrlKey&&t.push("ctrl"),n.metaKey&&t.push("meta"),t}function l(n,t,i){u.stopCallback(t,t.target||t.srcElement,i)||n(t,i)===!1&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function rt(n,t){for(var r=d(n,it(t),t),f={},u=0,e=!1,i=0;i<r.length;++i){if(r[i].seq){e=!0,u=Math.max(u,r[i].level),f[r[i].seq]=1,l(r[i].callback,t,r[i].combo);continue}e||o||l(r[i].callback,t,r[i].combo)}t.type!=o||v(n)||c(f,u)}function a(n){typeof n.which!="number"&&(n.which=n.keyCode);var t=k(n);if(t){if(n.type=="keyup"&&s==t){s=!1;return}rt(t,n)}}function v(n){return n=="shift"||n=="ctrl"||n=="alt"||n=="meta"}function ut(){clearTimeout(b),b=setTimeout(c,1e3)}function ft(){if(!f){f={};for(var n in i)n>95&&n<112||i.hasOwnProperty(n)&&(f[i[n]]=n)}return f}function g(n,t,i){return i||(i=ft()[n]?"keydown":"keypress"),i=="keypress"&&t.length&&(i="keydown"),i}function et(n,t,i,u){r[n]=0,u||(u=g(t[0],[]));for(var e=function(){o=u,++r[n],ut()},h=function(t){l(i,t,n),u!=="keyup"&&(s=k(t)),setTimeout(c,10)},f=0;f<t.length;++f)nt(t[f],f<t.length-1?e:h,u,n,f)}function nt(n,i,r,u,f){e[n+":"+r]=i,n=n.replace(/\s+/g," ");var l=n.split(" "),h,o,c,s=[];if(l.length>1){et(n,l,i,r);return}for(c=n==="+"?["+"]:n.split("+"),h=0;h<c.length;++h)o=c[h],w[o]&&(o=w[o]),r&&r!="keypress"&&p[o]&&(o=p[o],s.push("shift")),v(o)&&s.push(o);r=g(o,s,r),t[o]||(t[o]=[]),d(o,s,{type:r},!u,n),t[o][u?"unshift":"push"]({callback:i,modifiers:s,action:r,seq:u,level:f,combo:n})}function ot(n,t,i){for(var r=0;r<n.length;++r)nt(n[r],t,i)}for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta","return":"enter",escape:"esc"},f,t={},e={},r={},b,s=!1,o=!1,u,n=1;n<20;++n)i[111+n]="f"+n;for(n=0;n<=9;++n)i[n+96]=n;h(document,"keypress",a),h(document,"keydown",a),h(document,"keyup",a),u={bind:function(n,t,i){return n=n instanceof Array?n:[n],ot(n,t,i),this},unbind:function(n,t){return u.bind(n,function(){},t)},trigger:function(n,t){return e[n+":"+t]&&e[n+":"+t](),this},reset:function(){return t={},e={},this},stopCallback:function(n,t){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:t.tagName=="INPUT"||t.tagName=="SELECT"||t.tagName=="TEXTAREA"||t.contentEditable&&t.contentEditable=="true"}},window.Mousetrap=u,typeof define=="function"&&define.amd&&define(u)})();
//@ sourceMappingURL=mousetrap.min.js.map