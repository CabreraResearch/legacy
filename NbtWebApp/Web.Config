<?xml version="1.0" encoding="UTF-8"?>
<!-- 
        Note: As an alternative to hand editing this file you can use the 
        web admin tool to configure settings for your application. Use
        the Website->Asp.Net Configuration option in Visual Studio.
        A full list of settings and comments can be found in 
        machine.config.comments usually located in 
        \Windows\Microsoft.Net\Framework\v2.x\Config 
-->
<configuration>
    <configSections>
        <sectionGroup name="businessObjects">
            <sectionGroup name="crystalReports">
                <section name="rptBuildProvider" type="CrystalDecisions.Shared.RptBuildProviderHandler, CrystalDecisions.Shared, Version=13.0.2000.0, Culture=neutral, PublicKeyToken=692fbea5521e1304, Custom=null"/>
                <section name="crystalReportViewer" type="System.Configuration.NameValueSectionHandler"/>
            </sectionGroup>
        </sectionGroup>
    </configSections>
    <system.diagnostics>
        <switches>
            <add name="CswLoggerDnTrace" value="4"/>
        </switches>
    </system.diagnostics>
    <appSettings>
        <add key="aspnet:UseTaskFriendlySynchronizationContext" value="true" />
    </appSettings>
   <system.web>
        <sessionState mode="InProc" timeout="30"/>
        <!--<hostingEnvironment shadowCopyBinAssemblies="false" />-->
        <pages enableEventValidation="false" validateRequest="false" controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID">
            <controls>
                <add tagPrefix="asp" namespace="System.Web" assembly="System.Web.Extensions, Version=1.0.61025.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35"/>
                <add tagPrefix="csw" namespace="ChemSW.CswWebControls" assembly="CswWebControls"/>
                <add tagPrefix="nbt" namespace="ChemSW.NbtWebControls" assembly="NbtWebControls"/>
                <add tagPrefix="nbtft" namespace="ChemSW.NbtWebControls.FieldTypes" assembly="NbtWebControls"/>
                <add tagPrefix="tel" namespace="Telerik.Web.UI" assembly="Telerik.Web.UI"/>
            </controls>
        </pages>
        <!-- 100 MB maximum file upload, 30 minute maximum page execution -->
        <httpRuntime maxRequestLength="102400" executionTimeout="1800" requestValidationMode="2.0"/>
        <authentication mode="Windows"/>
        <!-- Required for remote AJAX GET/POST to work-->
        <webServices>
            <protocols>
                <add name="HttpGet"/>
                <add name="HttpPost"/>
            </protocols>
        </webServices>
        <!-- Transforms are not working. The current wisdom is to use SlowCheetah http://visualstudiogallery.msdn.microsoft.com/69023d00-a4f9-4a34-a6cd-7e854ba318b5, but not today -->
        <compilation debug="true" defaultLanguage="c#" numRecompilesBeforeAppRestart="100" targetFramework="4.0"/>
        <!-- End M$ft idiocy -->
    </system.web>
    <system.webServer>
        <defaultDocument>
            <files>
                <remove value="default.aspx"/>
                <remove value="iisstart.htm"/>
                <remove value="index.htm"/>
                <remove value="Default.asp"/>
                <remove value="index.html"/>
                <remove value="Default.htm"/>
                <add value="Main.html"/>
            </files>
        </defaultDocument>
        <modules runAllManagedModulesForAllRequests="true"/>
        <!--
        To browse web app root directory during debugging, set the value below to true.
        Set to false before deployment to avoid disclosing web app folder information.
         -->
        <directoryBrowse enabled="true"/>
        
    </system.webServer>
    <system.web.extensions>
        <scripting>
            <webServices>
                <!-- case 26724 -->
                <jsonSerialization maxJsonLength="2147483647"/>
				
            </webServices>
        </scripting>



		
    </system.web.extensions>
    <system.serviceModel>
        <diagnostics>
            <messageLogging logMalformedMessages="true" logMessagesAtTransportLevel="true" />
        </diagnostics>
		
		<bindings>		
			<webHttpBinding>	
				<binding name="ssl">
					<security mode="Transport" />
				</binding>
				<binding name="nossl">
					<security mode="None" />
				</binding>
			</webHttpBinding>
			
		</bindings>
		
        <services>
            <service behaviorConfiguration="MainServiceBehavior" name="NbtWebApp.Session">
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="nossl" name="Session"
                    bindingName="Session" contract="NbtWebApp.Session" />
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="ssl" name="Session"
                    bindingName="Session" contract="NbtWebApp.Session" />
                <endpoint address="mex" binding="mexHttpsBinding" contract="IMetadataExchange" />
            </service>
            <service behaviorConfiguration="MainServiceBehavior" name="NbtWebApp.Views">
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="nossl" name="Views"
                    bindingName="Views" contract="NbtWebApp.Views" />
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="ssl" name="Views"
                    bindingName="Views" contract="NbtWebApp.Views" />
                <endpoint address="mex" binding="mexHttpsBinding" contract="IMetadataExchange" />
            </service>
            <service behaviorConfiguration="MainServiceBehavior" name="NbtWebApp.Labels">
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="nossl" name="Labels"
                    bindingName="Labels" contract="NbtWebApp.Labels" />
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="ssl" name="Labels"
                    bindingName="Labels" contract="NbtWebApp.Labels" />
                <endpoint address="mex" binding="mexHttpsBinding" contract="IMetadataExchange" />
            </service>
            <service behaviorConfiguration="MainServiceBehavior" name="NbtWebApp.Reports">
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="nossl" name="Reports"
                    bindingName="Reports" contract="NbtWebApp.Reports" />
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="ssl" name="Reports"
                    bindingName="Reports" contract="NbtWebApp.Reports" />
                <endpoint address="mex" binding="mexHttpsBinding" contract="IMetadataExchange" />
            </service>
            <service behaviorConfiguration="MainServiceBehavior" name="NbtWebApp.Requests">
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="nossl" name="Requests"
                    bindingName="Requests" contract="NbtWebApp.Requests" />
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="ssl" name="Requests"
                    bindingName="Requests" contract="NbtWebApp.Requests" />
                <endpoint address="mex" binding="mexHttpsBinding" contract="IMetadataExchange" />
            </service>
            <service behaviorConfiguration="MainServiceBehavior" name="NbtWebApp.LandingPages">
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="nossl" name="LandingPages"
                    bindingName="LandingPages" contract="NbtWebApp.LandingPages" />
                <endpoint address="" behaviorConfiguration="MainEndpointBehavior"
                    binding="webHttpBinding" bindingConfiguration="ssl" name="LandingPages"
                    bindingName="LandingPages" contract="NbtWebApp.LandingPages" />
                <endpoint address="mex" binding="mexHttpsBinding" contract="IMetadataExchange" />
            </service>
        </services>
        <behaviors>
            <endpointBehaviors>
                <behavior name="MainEndpointBehavior">
                    <endpointDiscovery enabled="true" />
                    <webHttp automaticFormatSelectionEnabled="true" defaultOutgoingResponseFormat="Json" helpEnabled="true" />
                </behavior>
            </endpointBehaviors>
            <serviceBehaviors>
                <behavior name="MainServiceBehavior">
                    <serviceMetadata httpGetEnabled="true" httpsGetEnabled="true" />
                    <serviceDebug includeExceptionDetailInFaults="true" />
                </behavior>
            </serviceBehaviors>
        </behaviors>
        <serviceHostingEnvironment aspNetCompatibilityEnabled="true"
            multipleSiteBindingsEnabled="true" />

        <standardEndpoints>
            <webHttpEndpoint>
                <standardEndpoint faultExceptionEnabled="true" defaultOutgoingResponseFormat="Json" automaticFormatSelectionEnabled="true" helpEnabled="true" />
            </webHttpEndpoint>
        </standardEndpoints>

    </system.serviceModel>
    
    <businessObjects>
        <crystalReports>
            <rptBuildProvider>
                <add embedRptInResource="true"/>
            </rptBuildProvider>
            <crystalReportViewer>
                <add key="ResourceUri" value="/NbtWebApp/crystal"/>
            </crystalReportViewer>
        </crystalReports>
    </businessObjects>
</configuration>